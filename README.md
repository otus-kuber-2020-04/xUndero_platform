# xUndero_platform
xUndero Platform repository

## ДЗ 1 Знакомство с kubernetes
1. #### Настройка локального окружения:
  * Запуск кластера с помощью minikube с драйвером docker (опробован также запуск с kind);
  * Рассмотрены инструменты Dashboard и k9s;
  * При остановке pod-ов они восстанавливаются, т.к. судя по описанию:
    * core-dns управляется с помощью ReplicaSet,
    * kube-proxy управляется с помощью DaemonSet,
    * etcd, apiserver, controller, scheduler - статические pod-ы, которыми управляет kubelet на master-ноде;
2. #### Создание нового pod-а:
  * Создание Dockerfile для pod-а;
  * Добавление в pod init контейнера;
3. #### Запуск frontend;
  * При запуске из созданного манифеста контейнер пишет, что не опредедена переменная PRODUCT_CATALOG_SERVICE_ADDR;
  * После добавления этой переменной и других переменных, указанных в манифесте по ссылке, pod запустился.

## ДЗ 2 Kubernetes controllers
1. ### Запуск кластера в kind;
2. ### Проверка работы контроллеров:
  * ReplicaSet;
    * Обновление с ReplicaSet происходит только при пересоздании pod-ов, т. к. ReplicaSet не отслеживает изменения спецификации в шаблоне;
  * Deployment;
    * Созданы манифесты для реализации двух указанных сценариев развёртывания: blue-green и reverse;
  * Probes;
  * DaemonSet;
    * Создан манифест для запуска node-exporter;
    * Для запрета запуска pod-ов на определённых нодах (в данном случае - master) присутствуют метки (taints)
      и чтобы обойти фильтры этих меток в настройках pod-ов (и их контроллеров) вводятся tolerations.
